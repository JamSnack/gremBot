<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//init
randomize();
var channel_id = "jamsnack_"

twitch_init("https://localhost");
twitch_chat_connect(channel_id,channel_id,"oauth:b0ppgsx3zusv33nb3b5cvck5glnvmh");

twitch_chat_say("What's up, Twitch Chat?! Type '!cmds' for commands!");

randomize();


//Fonts
global.fnt_Ui = font_add_sprite_ext(fnt_ui_new,"!'#$%()*,-./0123456789:;&lt;=&gt;ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}.?+",0,0);

//Draw settings
draw_set_font(global.fnt_Ui);
draw_set_color(c_white);

//Screen hints
alarm[0] = 1;
tip_time = 0;
tip_time_max = 5;


//WORLD PHYSICS AND OTHER LOCAL VARIABLES
grav_rate = 0.01; //The rate at which creatures accelerate downward.
wave = 0;
wave_time = 0;
wave_time_max = 100;
time = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Event handler
alarm[0] = 60;

if tip_time &gt; tip_time_max &amp;&amp; irandom(3) == 2 &amp;&amp; !instance_exists(efct_uiTip)
{
    tip_time = 0;
    tip_time_max = room_speed*irandom_range(180,500);
    scr_tip("");    
    show_debug_message("Tip");
    exit;
}

//Spawn a wave!
if wave_time &gt;= wave_time_max &amp;&amp; !instance_exists(efct_uiTip)
{
    wave += 1;
    scr_tip("Wave "+string(wave));
    
    var i = 0;
    
    repeat(instance_number(obj_viewerGremlin)+wave)*2
    {
        var xx = choose(-32,room_width+32);
        var yy = irandom(room_height);
        
        if i &lt;= 50
        {
            instance_create(xx,yy,obj_enemy1);
        }
        
        repeat(floor(i/15)) { instance_create(xx,yy,obj_enemy2); }
        repeat(floor(i/100)) { instance_create(xx,yy,obj_enemy3); }
        
        
        i+=1;
    }
    
    wave_time = 0;
    wave_time_max = (irandom_range(90,180));
    show_debug_message("Wave");
    
    if instance_number(obj_viewerGremlin) &gt; 5
    {
        instance_create(50,-16,obj_terrance);
    }
}


//Stop the wave
if !instance_exists(obj_viewerGremlin) &amp;&amp; instance_exists(ENEMY)
{
    wave = 0;
    wave_time = 0;
    wave_time_max = 10;
}

wave_time += 1;
tip_time += 1;

show_debug_message("step");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="68">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>twitch_chat_async();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="62">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>twitch_stream_async();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>twitch_chat_say("Bot offline!");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="96">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>tip_time = tip_time_max;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
